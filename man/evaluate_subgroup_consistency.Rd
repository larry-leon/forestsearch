% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sg_consistency_refactor.r
\name{evaluate_subgroup_consistency}
\alias{evaluate_subgroup_consistency}
\title{Evaluate Single Subgroup for Consistency}
\usage{
evaluate_subgroup_consistency(
  m,
  index.Z,
  names.Z,
  df,
  found.hrs,
  n.splits,
  hr.consistency,
  pconsistency.threshold,
  pconsistency.digits,
  maxk,
  confs_labels,
  details = FALSE
)
}
\arguments{
\item{m}{Integer. Index of the subgroup to evaluate (1 to nrow(found.hrs))}

\item{index.Z}{Data.table or matrix. Factor indicators for all subgroups}

\item{names.Z}{Character vector. Names of factor columns}

\item{df}{Data.frame. Original data with Y, Event, Treat, id columns}

\item{found.hrs}{Data.table. Subgroup hazard ratio results}

\item{n.splits}{Integer. Number of random splits for consistency evaluation}

\item{hr.consistency}{Numeric. Minimum HR threshold for consistency}

\item{pconsistency.threshold}{Numeric. Minimum proportion of splits meeting consistency}

\item{pconsistency.digits}{Integer. Rounding digits for consistency proportion}

\item{maxk}{Integer. Maximum number of factors in a subgroup}

\item{confs_labels}{Character vector. Labels for confounders}

\item{details}{Logical. Print details during execution}
}
\value{
Named numeric vector with consistency results, or NULL if criteria not met.
Vector contains: Pcons, hr, N, E, g, m, K, and factor labels (M.1, M.2, etc.)
}
\description{
Helper function that evaluates a single subgroup (indexed by m) for consistency
across random splits. This function contains the core logic used in both
sequential and parallel execution modes.
}
\keyword{internal}
