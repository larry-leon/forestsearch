% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/find_k_inter_efficient_documented.R
\name{sensitivity_analysis_k_inter}
\alias{sensitivity_analysis_k_inter}
\title{Sensitivity Analysis of Hazard Ratios to k_inter}
\usage{
sensitivity_analysis_k_inter(
  k_inter_range = c(-5, 5),
  n_points = 21,
  plot = TRUE,
  ...
)
}
\arguments{
\item{k_inter_range}{Numeric vector of length 2 specifying the range of
k_inter values to analyze. Default is c(-5, 5).}

\item{n_points}{Integer number of points to evaluate within the range.
Default is 21.}

\item{plot}{Logical indicating whether to create visualization plots.
Default is TRUE.}

\item{...}{Additional arguments passed to \code{\link{generate_aft_dgm_flex}}.}
}
\value{
A data.frame of class "k_inter_sensitivity" with columns:
\describe{
\item{k_inter}{Numeric k_inter value}
\item{hr_harm}{Numeric hazard ratio in harm subgroup}
\item{hr_no_harm}{Numeric hazard ratio in no-harm subgroup}
\item{hr_overall}{Numeric overall hazard ratio}
\item{subgroup_size}{Integer size of harm subgroup}
}
}
\description{
Analyzes how the interaction parameter k_inter affects hazard ratios in
different populations (overall, harm subgroup, no-harm subgroup).
}
\details{
This function evaluates the hazard ratios at evenly spaced points across
the k_inter range. If plot = TRUE, it creates a 4-panel visualization showing:
\enumerate{
\item Harm subgroup HR vs k_inter
\item All HRs (overall, harm, no-harm) vs k_inter
\item Ratio of HRs (harm/no-harm) showing effect modification
\item Table of key values
}
}
\examples{
\dontrun{
# Analyze sensitivity to k_inter
sensitivity_results <- sensitivity_analysis_k_inter(
  k_inter_range = c(-2, 2),
  n_points = 11,
  data = gbsg,
  continuous_vars = c("age", "er", "pgr"),
  factor_vars = c("meno", "grade"),
  outcome_var = "rfstime",
  event_var = "status",
  treatment_var = "hormon",
  subgroup_vars = c("er", "meno"),
  subgroup_cuts = list(er = 20, meno = 0),
  model = "alt",
  plot = TRUE
)

# Results show relationship between k_inter and HRs
print(sensitivity_results)
}

}
