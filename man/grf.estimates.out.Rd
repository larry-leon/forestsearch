% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/improved_grf_functions.r
\name{grf.estimates.out}
\alias{grf.estimates.out}
\title{GRF Subgroup Evaluation and Performance Metrics}
\usage{
grf.estimates.out(
  df,
  grf.est = NULL,
  dgm = NULL,
  cox.formula.sim = NULL,
  cox.formula.adj.sim = NULL,
  analysis = "GRF",
  frac.tau = 1
)
}
\arguments{
\item{df}{Data frame containing the analysis data}

\item{grf.est}{List. Output from \code{grf.subg.harm.survival}}

\item{dgm}{List. Data-generating mechanism (truth) for simulation, must contain:
\itemize{
\item model: "null" (no subgroup) or other
\item grf.harm.true: True subgroup definition (or NULL if no subgroup)
\item hr.H.true: True HR in harm subgroup
\item hr.Hc.true: True HR in complement subgroup
}}

\item{cox.formula.sim}{Formula for unadjusted Cox model}

\item{cox.formula.adj.sim}{Formula for adjusted Cox model}

\item{analysis}{Character. Analysis label (default: "GRF")}

\item{frac.tau}{Numeric. Fraction of tau for GRF horizon (default: 1.0)}
}
\value{
Data frame with performance metrics:
\describe{
\item{any.H}{Indicator: was a subgroup found?}
\item{size.H, size.Hc}{Subgroup sizes}
\item{ppv, npv}{Positive and negative predictive values}
\item{sensitivity, specificity}{Classification metrics}
\item{hr.H.true, hr.Hc.true}{True hazard ratios}
\item{hr.H.hat, hr.Hc.hat}{Estimated hazard ratios}
\item{b1.H, b2.H, b1.Hc, b2.Hc}{Bias metrics}
}
}
\description{
Evaluates the performance of GRF-identified subgroups by comparing predicted
subgroups against true subgroups (for simulation studies). Calculates hazard ratios,
bias, predictive values, and coverage metrics.
}
\details{
This function is primarily for simulation studies where the true subgroup
is known. It compares the GRF-identified subgroup against the truth and
calculates various performance metrics.

Four scenarios are handled:
\enumerate{
\item True subgroup exists AND GRF finds a subgroup
\item True subgroup exists BUT GRF finds no subgroup
\item No true subgroup BUT GRF finds a subgroup (false positive)
\item No true subgroup AND GRF finds no subgroup (correct)
}
}
